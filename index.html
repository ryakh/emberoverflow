<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Emberoverflow</title>
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
</head>
<body>
  <script type="text/x-handlebars">
    <nav class="navbar navbar-default" role="navigation">
      <div class="navbar-header">
        {{#link-to "index" classNames="navbar-brand"}}
          Emberoverflow
        {{/link-to}}
      </div>

      <ul class="nav navbar-nav">
        {{#if userSignedIn}}
          <li>
            {{#link-to "ask-question"}}
              Ask Question
            {{/link-to}}
          </li>
        {{/if}}

        <li>
          {{#link-to "about"}}
            About site
          {{/link-to}}
        </li>
      </ul>

      <ul class="nav navbar-nav">
        {{#if userSignedIn}}
          <li>
            <a href="#" {{action "signOut"}}>
              Welcome, {{signedInUser.fullname}} â€” Sign out
            </a>
          </li>
        {{else}}
          <li>
            {{#link-to "sign-in"}}Sign in{{/link-to}}
          </li>
        {{/if}}
      </ul>
    </nav>

    {{outlet}}
  </script>

  <script type="text/x-handlebars" id="index">
    <div class="row">
      <div class="col-md-8">
        <h2>{{siteTitle}}</h2>
        <p>It is {{currentTime}}</p>

        <ul>
        {{#each}}
          <li>
            {{#link-to "question" this}}
              {{title}}
            {{/link-to}}

            (asked by {{author.fullname}})
          </li>
        {{/each}}
        </ul>
      </div>
    </div>
  </script>

  <script type="text/x-handlebars" id="question">
    <div class="row">
      <div class="col-md-8">
        <h2>{{title}}</h2>

        <p>
          {{question}}
        </p>

        <p>
          Asked by {{author}}
        </p>
      </div>
    </div>
  </script>

  <script type="text/x-handlebars" id="about">
    <div class="row">
      <div class="col-md-8">
        <h2>About Emberoverflow</h2>

        <p>
          Emberoverflow is a question and answer site for programmers and
          hamsters. We are a little bit different because we are written in
          Ember.js
        </p>
      </div>
    </div>
  </script>

  <script type="text/x-handlebars" id="sign-in">
    <div class="row">
      <div class="col-md-8">
      {{#if controllers.application.userSignedIn}}
        <p>You are already signed-in!</p>
      {{else}}
        <form {{action "signIn" on="submit"}}>
          <div class="form-group">
            <label for="email">Email address</label>

            {{input id="email"
              value=email
              classNames="form-control"
              placeholder="Enter your email address"}}
          </div>

          <button class="btn btn-primary" type="submit">
            Sign in
          </button>
        </form>
      {{/if}}
      </div>
    </div>
  </script>

  <script type="text/x-handlebars" id="ask-question">
    <div class="row">
      <div class="col-md-8">
        <h2>
          Ask New Question
        </h2>

        <form {{action "askQuestion" on="submit"}}>
          <div class="form-group">
            <label for="title">Question title</label>

            {{input id="title"
              value=title
              classNames="form-control"
              placeholder="Give your question an accurate name"}}
          </div>

          <div class="form-group">
            <label for="question">Question</label>

            {{textarea id="question"
              value=question
              classNames="form-control"
              placeholder="Describe your problem in as much detail as possible"}}
          </div>

          <button class="btn btn-primary" type="submit">
            Ask Question!
          </button>
        </form>
      </div>
    </div>
  </script>

  <script src="js/libs/jquery-1.10.2.js"></script>
  <script src="js/libs/handlebars-1.1.2.js"></script>
  <script src="js/libs/ember-1.7.0.js"></script>
  <script src="http://builds.emberjs.com/beta/ember-data.js"></script>
  <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>

  <script src="js/app.js"></script>

  <script src="js/models/question_model.js"></script>
  <script src="js/models/user_model.js"></script>

  <script src="js/fixtures/question_fixtures.js"></script>
  <script src="js/fixtures/user_fixtures.js"></script>

  <script src="js/routes/application_routes.js"></script>

  <script src="js/controllers/application_controllers.js"></script>
  <script src="js/controllers/sign_in_controller.js"></script>

  <!-- to activate the test runner, add the "?test" query string parameter -->
  <script src="tests/runner.js"></script>
</body>
</html>
